<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Crear nueva contraseña</title>
    </h:head>


    <h:body style="padding: 60px; background-color: #4ab8e8">
        <b:container>
            <b:alert severity="danger" closable="true" rendered="#{!usuarioBean.errorRecuperar.equals(usuarioBean.cadenaVacia)}"> #{usuarioBean.errorRecuperar}</b:alert>
            <b:jumbotron  style="background-color:  #b7e8f1">
                <b:container>

                    <h:form styleClass="form-signin" prependId="false">
                        <h2 class="form-signin-heading"><b:label severity="info" text="Creación de nueva contraseña"/></h2>

                        <b:inputSecret id="password" placeholder="Introduzca nueva contraseña" type="password" size="20"  value="#{usuarioBean.passwordIntroducido}">
                            <f:facet name="prepend">
                                <b:iconAwesome name="key" />
                            </f:facet>
                        </b:inputSecret>
                        <b:inputSecret onblur="ajax:usuarioBean.comprobarPasswordAjax()" update="@this" id="passwordToValidate" placeholder="Repita la nueva contraseña" type="password" size="20"   value="#{usuarioBean.passwordIntroducido2}">
                            <f:facet name="prepend">
                                <b:iconAwesome name="key" />
                            </f:facet>
                            <f:facet name="append">
                                <b:iconAwesome style="color:${usuarioBean.colorPass}"  name="${usuarioBean.iconoPass}" rendered="#{!usuarioBean.passwordComprobado.equals(usuarioBean.PASSWORD_NO_COMPROBADO)}"/> 
                            </f:facet>
                        </b:inputSecret>
                        
                        <b:commandButton look="primary btn-block" size="lg"  value="Enviar" action="#{usuarioBean.doNuevaPassword()}"/>
                    </h:form>
                    
                </b:container>
            </b:jumbotron>
        </b:container>
        #{usuarioBean.setErrorRecuperar(usuarioBean.cadenaVacia)}
    </h:body>
</html>